#include <iostream>
#include <string>
#include <fstream>
class Queue {
    int size;
    std::string *queue1;
    int in;
    int out;
    int not_free;
public:
    Queue(int  start_size) {
        size = start_size;
        queue1 = new std::string[size];
        in = -1;
        out = -1;
	not_free = 0;
    }
//function for pop
void st_pop(std::ofstream& write) {
	if (not_free == 0) {  
		write << "underflow" << std::endl;
		return;
		}
	if (out+1 == size) out = -1;
	out = out + 1;
	not_free--;
	write << queue1[out] << std::endl;
    }

	void  pushstack(std::string x, std::ofstream& write) {
		std::string a;
		int i = 0;
		while (i <= x.length() - 1) {
			if (x[i] == ' ') {
				write << "error" << std::endl;
				return;
			}
			a = a + x[i];
			i++;
		}
		if ( not_free == size) {
			write << "overflow" << std::endl;
			return;
		}
		if (in+1 == size) in = -1;
		in++;
		not_free++;
		queue1[in] = a;
	}


    

    void st_print(std::ofstream& write) {
	if ( not_free == 0 ) { write << "empty" << std::endl; return; }
	if (in <= out) {
	int z = out + 1
	while ( z < size ) {
		write << queue1[z] << ' ';
		z++;
	}
	int j = 0;
	while( j < in ) {
		write << queue1[j] << ' ';
		j = j + 1;
	}
	write << queue1[in] << std::endl;	
	} else {
	int k = out + 1;
	while ( k < in)
		write << queue1[i] << ' ';
	write << queue1[in] << std::endl;
	++k;
		}
    }

	~Queue() {
		delete[]queue1;
	}


};


int main(int argc, char* argv[]) {
	std::ifstream read(argv[1]);
        std::ofstream write(argv[2]);
        std::string size;
	size_t pos = size.find("set_size");
	int size_int = 0;
		while (getline(read, size, '\n')) {
			if (size.length() == 0) continue;
			size_t pos = size.find("set_size");
			if (pos == std::string::npos) {
				write << "error" << std::endl;
				continue;
			}
			if (size.length() - 1 < pos + 9) {
				write << "error" << std::endl;
				break;
			}
			int i = pos + 9;
			int b = 0;
			do {size_int = size_int * b + static_cast<int>(size[i]) - '0';
				b = 10;
				i++;
				if (i > size.length() - 1) break;
			}
			while ((size[i] == '1') || (size[i] == '2') || (size[i] == '3') ||
				(size[i] == '4') || (size[i] == '5') || (size[i] == '6') ||
				(size[i] == '7') || (size[i] == '8') || (size[i] == '0') ||
				(size[i] == '9'))
			break;
}
        Queue queue1(size_int);
        std::string oppa;
        while (std::getline(read, oppa)) {
            pos = oppa.find("push");
            if ( pos!= std::string::npos ) {
                std::string x;
                if ((oppa.length()-1 < pos+5) || (oppa[pos+4]!=' '))
                    write << "error" << std::endl;
                else {
                    for ( unsigned i = pos+5; i < oppa.length(); i++)
                        x+=oppa[i];
                   queue1.pushstack(x, write);
                }
            }
            else {
                pos = oppa.find("pop");
				if (pos != std::string::npos) {
					if (pos + 2 == oppa.length() - 1)
						queue1.st_pop(write);
					else 
					write << "error" << std::endl;
				}
                else {
                    pos = oppa.find("print");
                    if ( pos!= std::string::npos) {
						if (pos + 4 == oppa.length() - 1)
                        queue1.st_print(write);
						else
							write << "error" << std::endl;
		   }
		    else {
				if (oppa.length() != 0) write << "error" << std::endl; 
				}
                    }
                }
            }
        }